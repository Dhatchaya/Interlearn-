<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="card-payment-style.css">
  </head>
  <body>


<div class="payment-form-popup">
  <div class="payment-form-container">
    <div class="payment-form-header">
      <h3>Card Payment</h3>
      <button class="close-button">&times;</button>
    </div>
    <div class="payment-form-body">

      <form action="#">

          <div class="form-group">
            <label class="payment-label" for="card-number">Card Number</label>
            <div class="errorSpace1"></div>
            <input class="payment-input" type="text" id="card-number" placeholder="   0000 0000 0000 0000" maxlength="16">
          </div>

          <div class="form-group">
            <label class="payment-label" for="card-holder-name">Card Holder Name</label>
            <div class="errorSpace2"></div>
            <input class="payment-input" type="text" id="card-holder-name" placeholder="   Pavithra H.M.M.">
          </div>


          <div class="form-group div-adjest-1">
            <label class="payment-label" for="expiry-month">Expiry Month/Year</label>
            <div class="errorSpace3"></div>
            <div class="div-adjest-2">
              <input class="payment-input" type="text" id="expiry-month" placeholder="   MM" maxlength="2">
              <input class="payment-input" type="text" id="expiry-year" placeholder="   YY" maxlength="2">
            </div>
          </div>


          <div class="form-group div-adjest-1" >
            <label class="payment-label" for="cvv">CVV</label>
            <div class="errorSpace4"></div>
            <input class="payment-input div-adjest-3" type="text" id="cvv" placeholder="***" maxlength="3">
          </div>


        <div class="form-group">
          <!-- <label class="payment-label" for="card-type">Select Card Type</label> -->

            <img src="mastercard-logo.png" class="card-type-icon" alt="Mastercard logo">
            <img src="visa-logo.png" class="card-type-icon" alt="Visa logo">
            <img src="amex-logo.jpg" class="card-type-icon" alt="American Express logo">
        </div>
        <button class="paynow" type="submit">Pay Now</button>
      </form>
    </div>
  </div>
</div>
<script>
const form = document.querySelector('form');
const errorSpace1 = document.querySelector('.errorSpace1');
const errorSpace2 = document.querySelector('.errorSpace2');
const errorSpace3 = document.querySelector('.errorSpace3');
const errorSpace4 = document.querySelector('.errorSpace4');

form.addEventListener('submit', (event) => {
  event.preventDefault();
  errorSpace1.innerHTML = ""; // clear any previous error messages
  errorSpace2.innerHTML = "";
  errorSpace3.innerHTML = "";
  errorSpace4.innerHTML = "";

  const cardNumber = document.querySelector('#card-number');
  const nameOnCard = document.querySelector('#card-holder-name');
  const expiryMonth = document.querySelector('#expiry-month');
  const expiryYear = document.querySelector('#expiry-year');
  const cvv = document.querySelector('#cvv');

  let error = false;

  if (!cardNumber.value) {
    errorSpace1.innerHTML += "*Card number is required<br>";
    error = true;
  } else {
    let cardNumberStr = cardNumber.value.toString();
    let cardNumberRegex = /^[0-9]{16}$/;
    if (!cardNumberRegex.test(cardNumberStr)) {
      errorSpace1.innerHTML += "*Card number is invalid<br>";
      error = true;
    }
  }

  if (!nameOnCard.value) {
    errorSpace2.innerHTML += "*Name on card is required<br>";
    error = true;
  }

  if (!expiryMonth.value) {
    errorSpace3.innerHTML += "*Expiry Month is required..  ";
    error = true;
  } else {
    let expiryMonthStr = expiryMonth.value.toString();
    if (!(expiryMonthStr >= 1 && expiryMonthStr <= 12)) {
      errorSpace3.innerHTML += "*Expiry month is invalid..  ";
      error = true;
    }
  }

  if (!expiryYear.value) {
    errorSpace3.innerHTML += "*Expiry year is required ";
    error = true;
  } else {
    let expiryYearStr = expiryYear.value.toString();
    if (!(expiryYearStr >= 0 && expiryYearStr <= 99)) {
      errorSpace3.innerHTML += "*Expiry year is invalid ";
      error = true;
    }
  }

  if (!cvv.value) {
    errorSpace4.innerHTML += "*CVV is required<br>";
    error = true;
  } else {
    let cvvStr = cvv.value.toString();
    if (!(cvvStr >= 100 && cvvStr <= 999)) {
      errorSpace4.innerHTML += "*VV is invalid<br>";
      error = true;
    }
  }

  if (!error) {
    form.submit();
  }
});

// function displayError(field, message) {
//   field.focus();
//   field.style.borderColor = 'red';
//   const errorMessage = document.createElement('div');
//   errorMessage.innerHTML = message;
//   errorMessage.style.color = 'red';
//   field.parentNode.insertBefore(errorMessage, field.nextSibling);
// }


</script>
  </body>
</html>
